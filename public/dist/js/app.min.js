!function(){angular.module("AioCamera",["ngRoute"]),angular.module("AioCamera").constant("VIEW_PATH","client/views"),angular.module("AioCamera").controller("CameraController",[function(){this.orientation=null,this.mode="streaming",this.modesAvailable=["streaming","photo","video"],this.preview={fillColor:"#000100",url:"camera/tmp/snapshot.jpg",fullscreen:!0},this.openedWindow={config:!1,records:!1},this.toggleConfigWindow=function(){this.openedWindow.config||(this.openedWindow.records=!1),this.openedWindow.config=!this.openedWindow.config},this.toggleRecordsWindow=function(){this.openedWindow.records||(this.openedWindow.config=!1),this.openedWindow.records=!this.openedWindow.records},this.toggleFullscreen=function(){this.preview.fullscreen=!this.preview.fullscreen}}]),angular.module("AioCamera").directive("camera",["$window","VIEW_PATH",function(a,b){function c(a){var b="landscape";return a.innerHeight>a.innerWidth&&(b="portrait"),b}return{restrict:"E",replace:!0,templateUrl:b+"/Camera/camera.html",controller:"CameraController",controllerAs:"cameraCtrl",scope:{},link:function(b,d,e,f){f.orientation=c(a),$(a).on("resize",function(){f.orientation=c(a),b.$apply()});var g=io();g.on("snapshot",function(a){this.preview.url=a,b.$apply()}.bind(this)),b.$on("$destroy",function(){$(a).off("resize")})}}}]),angular.module("AioCamera").controller("CameraConfigController",[function(){this.parameters={width:1e3,height:1e3,flipY:!0,flipX:!1,rotation:0,sharpness:0,contrast:0,brightness:50,saturation:0,iso:100,stabilisation:!1,evCompensation:0,exposureMode:"auto",awb:"auto",imageEffect:"none",colourEffect:null,meteringMode:"average"},this.rotations={0:"0°",90:"90°",270:"270°"},this.exposureModes=["off","auto","night","nightpreview","backlight","spotlight","sports","snow","beach","verylong","fixedfps","antishake","fireworks"],this.awbModes=["off","auto","sun","cloud","shade","tungsten","fluorescent","incandescent","flash","horizon"],this.imageEffects=["none","negative","solarise","sketch","denoise","emboss","oilpaint","hatch","gpen","pastel","watercolour","film","blur","saturation","colourswap","washedout","posterise","colourpoint","colourbalance","cartoon"],this.meteringModes=["average","spot","backlit","matrix"]}]),angular.module("AioCamera").directive("cameraConfig",["VIEW_PATH",function(a){return{restrict:"E",replace:!0,templateUrl:a+"/CameraConfig/camera-config.html",controller:"CameraConfigController",controllerAs:"cameraConfigCtrl",scope:{config:"="},link:function(a,b,c,d){a.$on("$destroy",function(){})}}}]),angular.module("AioCamera").controller("CameraRecordsController",[function(){this.records=[]}]),angular.module("AioCamera").directive("cameraRecords",["VIEW_PATH",function(a){return{restrict:"E",replace:!0,templateUrl:a+"/CameraRecord/camera-records.html",controller:"CameraRecordsController",controllerAs:"cameraRecordsCtrl",scope:{},link:function(a,b,c,d){a.$on("$destroy",function(){})}}}]),angular.module("AioCamera").directive("radioField",["VIEW_PATH",function(a){return{restrict:"E",replace:!0,templateUrl:a+"/Form/radio-field.html",scope:{value:"=?",options:"="},link:function(a,b,c){a.value=angular.isDefined(a.value)?a.value:null,a.setValue=function(b){a.value=b}}}}]),angular.module("AioCamera").directive("rangeField",["VIEW_PATH",function(a){var b={step:1,min:0,max:100,showMilestones:!0};return{restrict:"E",replace:!0,templateUrl:a+"/Form/range-field.html",scope:{step:"=?",min:"=?",max:"=?",value:"=?",showMilestones:"=?"},link:function(a,c,d){a.step=angular.isDefined(a.step)?a.step:b.step,a.min=angular.isDefined(a.min)?a.min:b.min,a.max=angular.isDefined(a.max)?a.max:b.max,a.value=angular.isDefined(a.value)?a.value:b.value,a.showMilestones=angular.isDefined(a.showMilestones)?a.showMilestones:b.showMilestones}}}]),angular.module("AioCamera").directive("switchField",["VIEW_PATH",function(a){return{restrict:"E",replace:!0,templateUrl:a+"/Form/switch-field.html",scope:{value:"=?"},link:function(a,b,c){a.value=a.value?!0:!1}}}])}();